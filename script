import pandas as pd                                                             #permite manejar datos como en excel
#import numpy as np
import matplotlib.pyplot as plt
SPOT = pd.read_csv("spot.csv",skiprows=6)
#SPOT = pd.read_excel("spot.xlsx",sheet_name="Worksheet",skiprows=6)  #sube una hoja de excel 
FUTURO=pd.read_csv("futuro.csv",skiprows=1)
JOINT=pd.read_csv("JUNTOS.csv")
df=pd.read_csv("JUNTOS.csv")
df
SPOT
df["Diferencia1"] = df["SPOT"]-df["FUTURO"]
df["Diferencia2"] = df["FUTURO"]-df["SPOT"]

#------------------------------------------------------------------------------

fig = plt.figure(figsize=(20,5))
plt.grid(True, linewidth=0, linestyle="dotted", color = "0.7")
plt.title("SPOT VS FUTURO", weight="bold", size=15, color = "0.3")
plt.xlabel('Fechas en el aÃ±o 2019', weight="bold", size=12)
plt.plot(JOINT['Date'], df['SPOT'], color = 'blue')
plt.plot(JOINT['Date'], df['FUTURO'], color = 'green')
plt.savefig("Superpuesta.png")

#------------------------------------------------------------------------------

from tkinter import *
import tkinter
import tkinter.messagebox
from PIL import Image
import math
def tasa(L,E):
    v=L-E
    return v
    
def valor(r,t):
    v=math.exp(r*(t/360))
    return v

def precio(s,L,E,t):
    v=s*valor(tasa(L,E),t)
    return v

#------------------------------------------------------------------------------
    
def ventana_1():
    raiz=Tk()
    raiz.title("FUTURO")
    raiz.geometry("5000x5000")
    #raiz.config(width=1000, height=1000)
    marco=Frame()
    #marco.config(bg="white",width="500", height="500")
    marco.pack()
    miimagen0=PhotoImage(file="commodities.png")
    labelimg=Label(marco, image=miimagen0).pack()
    variableLabel=Label(marco,text="""Un contrato futuro es un instrumento financiero en el cual se estipula la entrega de un activo en \n
un tiempo determinado a cierto precio. El activo a negociar puede ser trigo, soya, petrÃ³leo, oro, \n 
divisas o cualquier cosa en la cual el precio fluctÃºa, la finalidad de los futuros es eliminar la \n 
incertidumbre de los precios en fechas posteriores para compradores y vendedores.\n 
El activo a transar se denomina subyacente, el precio del futuro depende del precio del \n 
subyacente en el mercado de contado o mercado spot, el dÃ­a en que se estipule Ã©l acuerdo. \n 
Como el precio del instrumento viene dado por el precio de otro activo, a los futuros se les \n
denominan derivados.\n
""").pack()
    def siguiente():
        raiz.destroy()
        ventana_2()
    Boton=Button(raiz , text="Siguiente", command=siguiente)
    Boton.pack()
    raiz.mainloop()

#------------------------------------------------------------------------------

def ventana_2():
    raiz2=Tk()
    raiz2.title("FUTURO")
    raiz2.geometry("5000x5000")
    #raiz2.config(width=1000, height=1000)
    marco=Frame()
    marco.config(bg="white",width="500", height="500")
    marco.pack()
    #miimagen0=PhotoImage(file="commodities.png")
    #labelimg=Label(marco, image=miimagen0).pack()
    variableLabel=Label(marco, text="""Un ejemplo para explicar el funcionamiento del derivado es una negociaciÃ³n con trigo. En un \n
caso hipotÃ©tico, el precio del trigo para el dÃ­a de hoy es de $3000 y este viene dado por oferta y demanda.\n
Tanto productores como compradores de trigo tienen incertidumbre del precio para \n el dÃ­a de maÃ±ana, en una semana, un mes, etc.\n
Un productor puede pactar un precio de venta para su cosecha que estarÃ¡ lista en dos meses y \n 
una vez que encuentre una contraparte se puede constituir un contrato futuro.\n
Si en dos meses el precio del trigo en el mercado de contado es de $3200, el comprador en el \n 
contrato futuro ganÃ³ $200 y el productor pierde $200. Si por el contrario el trigo estuviese a \n
$2800  el productor es quien gana $200 y el comprador pierde $200.\n
Imaginemos que el precio es de $3200, dadas esas condiciones las partes tienen dos opciones \n para cerrar el acuerdo.\n
Pueden intercambiar trigo a $3000 directamente entre ellos.\n
Quien pierde, el productor, le da a su contraparte $200 y cada uno hace transacciones en el mercado de contado.\n
Sin importar que opciÃ³n escojan, lo que acordaron en el contrato futuro se va hacer efectivo, \n 
alguien va a ganar y alguien va a perder la diferencia entre el precio acordado en el futuro y  el \n 
precio el dia que cierra la negociaciÃ³n en el mercado spot. Sin embargo, las dos partes \n 
eliminaron la incertidumbre del precio del activo en el futuro.\n
CÃ³mo alguien siempre compra mÃ¡s caro o vende mÃ¡s barato, se tienen incentivos a no cumplir \n 
el acuerdo y hacer la negociaciÃ³n en el mercado de contado, una vez llegada la fecha final del \n
contrato futuro.\n
""").pack()    
    def siguiente():
        raiz2.destroy()
        ventana_3()
    Boton=Button(raiz2 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz2.destroy()
        ventana_1()    
    Boton2=Button(raiz2 , text="Atras", command= anterior)
    Boton2.pack()
    raiz2.mainloop()    
    
#------------------------------------------------------------------------------
        
def ventana_3():
    raiz17=Tk()
    raiz17.title("Tutorial")
    raiz17.geometry("5000x5000")
    marco17=Frame()
    marco17.pack()
    def siguiente():
        raiz17.destroy()
        ventana_4()
    Boton=Button(raiz17 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz17.destroy()
        ventana_2()    
    Boton2=Button(raiz17 , text="Atras", command= anterior)
    Boton2.pack()
    variableLabel17=Label(marco17, text=""" Para eliminar el riesgo de incumplimiento por alguna de las partes se creÃ³ la CÃ¡mara de \n
CompensaciÃ³n, esta entidad actÃºa como intermediaria entre compradores y vendedores. \n 
Retomando el ejemplo anterior, el productor hace un acuerdo con la cÃ¡mara para vender el \n 
trigo  a $3000 y el comprador hace el mismo acuerdo anterior pero con la cÃ¡mara.\n
La cÃ¡mara es quien le responde a todos los participantes del mercado por el cumplimiento de los acuerdos.\n
Ademas, para evitar que las partes le incumplan a la cÃ¡mara se exige que quien quiera\n 
hacer una negociaciÃ³n abra una cuenta a nombre de esta entidad.\n
La finalidad de la cuenta es para que las partes entreguen garantÃ­as como acciones o dinero, \n
para cubrir las pÃ©rdidas o depositar allÃ­ las ganancias obtenidas. En nuestro ejemplo si el precio \n 
pactado fue de $3000 y ahora es de $3200 ocurrirÃ­a lo siguiente:\n
Pueden intercambiar trigo a $3000 directamente entre ellos.\n
A quien pierde, el productor, le son descontados $200 de su cuenta y quien gana, el comprador,\n
le son consignados $200  y cada uno hace transacciones en el mercado de\n contado.\n
Con la existencia de la cÃ¡mara no sÃ³lo quienes estÃ¡n interesados en transar productos pueden\n 
negociar con futuros, especuladores y otros agentes del mercado pueden utilizarlos para generar ganancias.\n 
Gracias a esta congregaciÃ³n de agentes el mercado tiene liquidez y se puede \n 
garantizar que siempre existe una contraparte. AdemÃ¡s gracias a la intermediaciÃ³n se pueden\n  
cerrar las operaciones antes del vencimiento.\n
Los futuros se negocian en bolsas de valores o mercantiles alrededor del mundo, en todas existe\n
una entidad como la cÃ¡mara que garantiza el cumplimiento de las operaciones.\n
Para el caso de colombia Existe la Bolsa de Valores de Colombia (BVC) y la CÃ¡mara de Riesgo\n
Central de Contraparte de Colombia.\n
""" ).pack()
    raiz17.mainloop()

#------------------------------------------------------------------------------        

def ventana_4():
    raiz18=Tk()
    raiz18.title("Grafica")
    raiz18.geometry("8000x8000")
    marco18=Frame(raiz18)
    marco18.pack()
    miimagen=PhotoImage(file="Superpuesta.png")
    variableLabel18=Label(marco18, image=miimagen).pack()
    def siguiente():
        raiz18.destroy()
        ventana_5()
    Boton=Button(raiz18 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz18.destroy()
        ventana_3()    
    Boton2=Button(raiz18 , text="Atras", command= anterior)
    Boton2.pack()
    variableLabel18=Label(marco18, text=""" En colombia se pueden hacer operaciones con futuros de sobre el Ã­ndice Colcap, acciones, tasa \n 
de cambio COP/USD, tÃ­tulos de Deuda PÃºblica (TES) e inflaciÃ³n (IPC). A continuaciÃ³n \n
explicaremos como funciona una estrategia de arbitraje con divisas, en finanzas arbitraje es \n
negociar un activo entre dos mercados aprovechando las diferencias de precio para generar ganancias. \n
En un arbitraje no se necesita capital inicial, se solicita un prÃ©stamo para la negociaciÃ³n y cuando\n 
se cierran las posiciones se devuelve el dinero. CÃ³mo se trata de un arbitraje con divisas se tiene\n 
que pedir prestado en una moneda e invertir en la otra. \n
En colombia quienes negocian con futuros de TRM son exportadores e importadores, pero los\n
especuladores tienen una gran participaciÃ³n en este mercado y al intentar aprovechar las\n 
diferencias de precios ocasionan que los precios entre el mercado de futuros y el mercado spot\n
tengan las mismas tendencias.\n
""" ).pack()
    raiz18.mainloop()
    
#------------------------------------------------------------------------------

def ventana_5():
    raiz19=Tk()
    raiz19.title("Grafica")
    raiz19.geometry("8000x8000")
    marco19=Frame(raiz19)
    marco19.pack()
    miimagen=PhotoImage(file="precio.png")
    variableLabel19=Label(marco19, image=miimagen).pack()
    def siguiente():
        raiz19.destroy()
        ventana_6()
    Boton=Button(raiz19 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz19.destroy()
        ventana_4()    
    Boton2=Button(raiz19 , text="Atras", command= anterior)
    Boton2.pack()
    variableLabel19=Label(marco19, text=""" Antes de poder realizar arbitraje es necesario definir el precio de el futuro sobre TRM, este\n 
depende de:\n
S es el valor del DÃ³lar en el mercado de contado.\n
L es la tasa local  tasa en pesos\n 
E es la tasa en DÃ³lares de Estados Unidos\n 
T es el periodo hasta el vencimiento del futuro (Dias/360)\n 
""").pack()
    raiz19.mainloop()  

#------------------------------------------------------------------------------
    
def ventana_6():
    raiz19=Tk()
    raiz19.title("Grafica")
    raiz19.geometry("8000x8000")
    marco19=Frame(raiz19)
    marco19.pack()   
    def siguiente():
        raiz19.destroy()
        ventana_7()
    Boton=Button(raiz19 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz19.destroy()
        ventana_5()    
    Boton2=Button(raiz19 , text="Atras", command= anterior)
    Boton2.pack()    
    variableLabel19=Label(marco19, text="""La estrategia de arbitraje va a depender del valor de las tasas y la TRM del dÃ­a en que se suscribe el contrato. \n
Vamos a suponer que las tasas de inversiÃ³n y prÃ©stamo son las mismas, teniendo una tasa en dÃ³lares del 4% y una \n
tasa en pesos del 9%, la TRM se va a ubicar en $3293 y la fecha de vencimiento va a ser en 45 dÃ­as.\n
Esto da porresultado que el precio justo para un contrato futuro es de $3313.64. \n
Sin embargo, los precios de los futuros dependen de la oferta y demanda en su mercado respectivo, \n
la estrategia de arbitraje depende de si el precio de los futuros es mayor o menor a nuestro precio calculado.\n
Si el precio del mercado de futuros es menor al nuestro, por ejemplo $3280 la estrategia de arbitraje es la siguiente:\n
""").pack()
    raiz19.mainloop() 
    
#------------------------------------------------------------------------------
    
def ventana_7():
    raiz19=Tk()
    raiz19.title("Grafica")
    raiz19.geometry("8000x8000")
    marco19=Frame(raiz19)
    marco19.pack()   
    def siguiente():
        raiz19.destroy()
        ventana_8()
    Boton=Button(raiz19 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz19.destroy()
        ventana_6()    
    Boton2=Button(raiz19 , text="Atras", command= anterior)
    Boton2.pack()    
    variableLabel19=Label(marco19, text="""En t=0 dÃ­as.\n
1. Suscribir un contrato futuro en $3280 para 45 dÃ­as. \n
2. Pedir prestado 1 dÃ³lar al mismo plazo con interÃ©s de 4%. \n
3. Cambiar el dÃ³lar prestado por $3293  en el mercado de contado. \n
4. Invertir los $3293 a una tasa de 9%  al mismo plazo. \n
\n
En t= 45 dÃ­as.\n
1. Recibir inversiÃ³n de $3328 . \n
2. Cambiar a $1.01463 dÃ³lares  usando el derivado.\n
3. Pagar el prÃ©stamo inicial por 1.0049146 dÃ³lares.\n
4. Ganancia de 0.0097153 dÃ³lares.\n
""").pack()
    raiz19.mainloop() 
    
#------------------------------------------------------------------------------
    
def ventana_7():
    raiz19=Tk()
    raiz19.title("Grafica")
    raiz19.geometry("8000x8000")
    marco19=Frame(raiz19)
    marco19.pack()   
    def siguiente():
        raiz19.destroy()
        ventana_8()
    Boton=Button(raiz19 , text="Siguiente", command=siguiente)
    Boton.pack()
    def anterior():
        raiz19.destroy()
        ventana_6()    
    Boton2=Button(raiz19 , text="Atras", command= anterior)
    Boton2.pack()    
    variableLabel19=Label(marco19, text="""Si el precio del mercado de futuros es mayor al nuestro, por ejemplo $3400 la estrategia de arbitraje es la siguiente: \n
En t=0 dÃ­as.\n
1. Suscribir un contrato futuro en $3400 para 45 dÃ­as.\n
2. Pedir prestado $3293 pesos al mismo plazo con interÃ©s de 9%. \n
3. Cambiar los pesos prestados por 1 dÃ³lar en el mercado de contado. \n
4. Invertir 1 dÃ³lar  a una tasa de 4%  al mismo plazo. \n
\n
1. En t= 45 dÃ­as.\n
2. Recibir inversiÃ³n de $1.00491 dÃ³lares. \n
3. Cambiar por $3416 pesos  usando el derivado.\n
4. Pagar el prÃ©stamo inicial por $3328 pesos.\n
5. Ganancia de $87. 335 pesos por dÃ³lar.\n
""").pack()
    raiz19.mainloop() 
    
#------------------------------------------------------------------------------
#def ventana_6():
#    raiz19=Tk()
#    raiz19.title("Grafica")
#    raiz19.geometry("8000x8000")
#    marco19=Frame(raiz19)
#    marco19.pack()
#    #variableLabel18=Label(marco19, text="""La estrategia de arbitraje va a depender del valor de las tasa y la TRM del dÃ­a en que se suscribe\n  el contrato.\n 
##Vamos a suponer que las tasas de inversiÃ³n y prÃ©stamo son las mismas, teniendo una tasa en\n  DÃ³lares del 4% y una tasa en pesos del 9%. La TRM se va a ubicar en $3293\n 
##""").pack()
#   pantalla=Entry(marco19)
#    pantalla.grid(row=1,column=1,padx=100,pady=100)
#    pantalla.config(background="black",fg="#F0F3F7")                
#    def siguiente():
#        raiz19.destroy()
#        ventana_7()
#    Boton=Button(raiz19 , text="Siguiente", command=siguiente)
#    Boton.pack()
#    def anterior():
#        raiz19.destroy()
#        ventana_5()    
#    Boton2=Button(raiz19 , text="Atras", command= anterior)
#    Boton2.pack()
#    raiz19.mainloop() 

#------------------------------------------------------------------------------

#def ventana_7():
#   raiz19=Tk()
#    raiz19.title("Grafica")
#    raiz19.geometry("8000x8000")
#    marco19=Frame(raiz19)
#    marco19.pack()
#    pantalla=Entry(marco19)
#    pantalla.grid(row=1,column=1,padx=100,pady=100)
#    pantalla.config(background="black",fg="#F0F3F7")
#    def siguiente():
#        raiz19.destroy()
#    Boton=Button(raiz19 , text="Siguiente", command=siguiente)
#    Boton.pack()
#    def anterior():
#       raiz19.destroy()
#        ventana_18()    
#    Boton2=Button(raiz19 , text="Atras", command= anterior)
#    Boton2.pack()
#    raiz19.mainloop() 

#------------------------------------------------------------------------------

    
    
ventana_1()
